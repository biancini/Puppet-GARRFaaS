<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: shib2idp::idp::install</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )

  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">shib2idp::idp::install</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/etc/puppet/modules/shib2idp/manifests/classes/idp/install_pp.html">
                /etc/puppet/modules/shib2idp/manifests/classes/idp/install.pp
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h2>Class: <a href="install.html">shib2idp::idp::install</a></h2>
<p>
This class executes the <a href="install.html">install</a> stage of the
installation and configuration of the Shibboleth IdP on the Puppet agent
machine.
</p>
<p>
The <a href="install.html">install</a> operations are used to execute the
setup.sh script inside the Internet2 Shibboleth package downloaded from
their repositories.
</p>
<p>
Parameters:
</p>
<table>
<tr><td valign="top"><tt>shibbolethversion</tt>:</td><td>This parameter permits to specify the version of Shibboleth IdP to be
downloaded from the Internet2 repositories. By default the 2.3.3 version
will be downloaded.

</td></tr>
<tr><td valign="top"><tt>idpfqdn</tt>:</td><td>This parameters must contain the fully qualified domain name of the IdP.
This name must be the exact name used by client users to access the machine
over the Internet. This FQDN, in fact, will be used to determine the CN of
the <a href="certificate.html">certificate</a> used for HTTPS. If the name
is not identical with the server name specified by the client, the
client&#8216;s browser will raise a <a href="security.html">security</a>
exception.

</td></tr>
<tr><td valign="top"><tt>keystorepassword</tt>:</td><td>This parameter permits to specify the keystore password used to protect the
keystore file on the IdP server.

</td></tr>
</table>
<p>
Actions:
</p>
<p>
Requires:
</p>
<p>
Sample Usage: This class file is not called directly.
</p>

    </div>


   </div>

<!-- if childs -->


    <div id="method-list">
      <h3 class="section-bar">Resources</h3>

      <div class="name-list">
      <a href="#R000018">Exec[&quot;apps_chmod_shibboleth&quot;]</a>&nbsp;&nbsp;
      <a href="#R000017">Exec[&quot;apps_cpendorsed_shibboleth&quot;]</a>&nbsp;&nbsp;
      <a href="#R000014">Exec[&quot;apps_install_command&quot;]</a>&nbsp;&nbsp;
      <a href="#R000015">Exec[&quot;apps_install_shibboleth&quot;]</a>&nbsp;&nbsp;
      <a href="#R000016">Exec[&quot;apps_rminstaller_shibboleth&quot;]</a>&nbsp;&nbsp;
      <a href="#R000019">Exec[&quot;apps_semaphore_shibboleth_installed&quot;]</a>&nbsp;&nbsp;
      <a href="#R000020">Notify[&quot;configuring&quot;]</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <!-- if requires -->

    <!-- if realizes -->

    <div id="section">

<!-- if facts -->

<!-- if plugins -->

<!-- if nodes -->

<!-- if class -->







    <!-- if method_list -->


    <!-- if resource_list -->
    <div id="resources">
    <h3 class="section-bar">Resources</h3>

      <div id="method-R000018" class="method-detail">
        <a name="R000018"></a>

        <div class="method-heading">
          <span class="method-name">Exec[&quot;apps_chmod_shibboleth&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">command => "/bin/chown tomcat6:tomcat6 /opt/shibboleth-idp/logs/ /opt/shibboleth-idp/metadata/ /opt/shibboleth-idp/credentials/"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Exec["apps_cpendorsed_shibboleth"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-R000017" class="method-detail">
        <a name="R000017"></a>

        <div class="method-heading">
          <span class="method-name">Exec[&quot;apps_cpendorsed_shibboleth&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">command => /bin/cp -r /usr/local/src/shibboleth-identityprovider/endorsed/ $tomcat::tomcat_home</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Exec["apps_rminstaller_shibboleth"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-R000014" class="method-detail">
        <a name="R000014"></a>

        <div class="method-heading">
          <span class="method-name">Exec[&quot;apps_install_command&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">command => /bin/echo '$autoinstall_filecontent' > /usr/local/src/shibboleth-identityprovider/autoinstall.sh</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Notify["installing"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-R000015" class="method-detail">
        <a name="R000015"></a>

        <div class="method-heading">
          <span class="method-name">Exec[&quot;apps_install_shibboleth&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">command => "/bin/bash /usr/local/src/shibboleth-identityprovider/autoinstall.sh"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">logoutput => "on_failure"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Exec["apps_install_command"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-R000016" class="method-detail">
        <a name="R000016"></a>

        <div class="method-heading">
          <span class="method-name">Exec[&quot;apps_rminstaller_shibboleth&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">command => "/bin/rm /usr/local/src/shibboleth-identityprovider/autoinstall.sh"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Exec["apps_install_shibboleth"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-R000019" class="method-detail">
        <a name="R000019"></a>

        <div class="method-heading">
          <span class="method-name">Exec[&quot;apps_semaphore_shibboleth_installed&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">cwd => "/usr/local/src"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">command => "/bin/echo installed > /usr/local/src/shibboleth-identityprovider/.puppet"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Exec["apps_chmod_shibboleth"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

      <div id="method-R000020" class="method-detail">
        <a name="R000020"></a>

        <div class="method-heading">
          <span class="method-name">Notify[&quot;configuring&quot;]</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">message => "configuring"</span><br />
          &nbsp;&nbsp;&nbsp;<span class="method-args">require => Exec["apps_semaphore_shibboleth_installed"]</span><br />
        </div>

        <div class="method-description">
        </div>
      </div>

    </div>



  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>