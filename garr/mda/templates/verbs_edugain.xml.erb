<bean id="serializeImportedEdugainSHA1" parent="SerializationStage" p:id="serializeImportedEdugainSHA1">
    <property name="outputFile">
        <bean class="java.io.File">
            <constructor-arg value="#{ systemProperties['basedir'] }/mdx/<%= fedcountry_downcase %>_<%= fedid_downcase %>/md-out/<%= fedid_downcase %>-edugain/<%= fedid_downcase %>-to-edugain-metadata-sha1.xml"/>
        </bean>
    </property>
</bean>

<bean id="serializeImportedEdugainSHA256" parent="SerializationStage" p:id="serializeImportedEdugainSHA256">
    <property name="outputFile">
        <bean class="java.io.File">
            <constructor-arg value="#{ systemProperties['basedir'] }/mdx/<%= fedcountry_downcase %>_<%= fedid_downcase %>/md-out/<%= fedid_downcase %>-edugain/<%= fedid_downcase %>-to-edugain-metadata-sha256.xml"/>
        </bean>
    </property>
</bean>

<bean id="serializeEdugain2<%= fedid_downcase %>Unsigned" parent="SerializationStage" p:id="serializeEdugain2<%= fedid_downcase %>Unsigned">
    <property name="outputFile">
        <bean class="java.io.File">
            <constructor-arg value="#{ systemProperties['basedir'] }/mdx/<%= fedcountry_downcase %>_<%= fedid_downcase %>/md-out/<%= fedid_downcase %>-edugain/<%= fedid_downcase %>-from-edugain-metadata.xml"/>
        </bean>
    </property>
</bean>

<bean id="serializeEdugain2<%= fedid_downcase %>SHA1" parent="SerializationStage" p:id="serializeEdugain2<%= fedid_downcase %>SHA1">
    <property name="outputFile">
        <bean class="java.io.File">
            <constructor-arg value="#{ systemProperties['basedir'] }/mdx/<%= fedcountry_downcase %>_<%= fedid_downcase %>/md-out/<%= fedid_downcase %>-edugain/<%= fedid_downcase %>-from-edugain-metadata-sha1.xml"/>
        </bean>
    </property>
</bean>

<bean id="serializeEdugain2<%= fedid_downcase %>SHA256" parent="SerializationStage" p:id="serializeEdugain2<%= fedid_downcase %>SHA256">
    <property name="outputFile">
        <bean class="java.io.File">
            <constructor-arg value="#{ systemProperties['basedir'] }/mdx/<%= fedcountry_downcase %>_<%= fedid_downcase %>/md-out/<%= fedid_downcase %>-edugain/<%= fedid_downcase %>-from-edugain-metadata-sha256.xml"/>
        </bean>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-to-edugain-metadata-check" parent="SimplePipeline" p:id="<%= fedid_downcase %>-to-edugain-metadata-check">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugainEntities"/>
            <ref bean="standardImportActions"/>
            <ref bean="errorAnnouncer"/>
        </list>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-to-edugain-metadata-sha1" parent="SimplePipeline" p:id="<%= fedid_downcase %>-to-edugain-metadata-sha1">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugainEntities"/>
            <ref bean="standardImportActions"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_importEduGainTail"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addPubInfo"/> 
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addTrustRoots"/>
            <ref bean="stripUkfedlabelNamespace"/>
            <ref bean="stripWayfNamespace"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_formatMetadata"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_signSHA1" />
            <ref bean="serializeImportedEdugainSHA1"/>
        </list>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-to-edugain-metadata-sha256" parent="SimplePipeline" p:id="<%= fedid_downcase %>-to-edugain-metadata-sha256">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugainEntities"/>
            <ref bean="standardImportActions"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_importEduGainTail"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addPubInfo"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addTrustRoots"/>
            <ref bean="stripUkfedlabelNamespace"/>
            <ref bean="stripWayfNamespace"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_formatMetadata"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_signSHA256" />
            <ref bean="serializeImportedEdugainSHA256"/>
        </list>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-from-edugain-metadata-check" parent="SimplePipeline" p:id="<%= fedid_downcase %>-from-edugain-metadata-check">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugain2<%= fedid_downcase %>Entities"/>
            <ref bean="errorAnnouncer"/>
        </list>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-from-edugain-metadata" parent="SimplePipeline" p:id="<%= fedid_downcase %>-from-edugain-metadata">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugain2<%= fedid_downcase %>Entities"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_importEduGainTail"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addTrustRoots"/>
            <ref bean="stripUkfedlabelNamespace"/>
            <ref bean="stripWayfNamespace"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_formatMetadata"/>
            <ref bean="serializeEdugain2<%= fedid_downcase %>Unsigned"/>
        </list>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-from-edugain-metadata-sha1" parent="SimplePipeline" p:id="<%= fedid_downcase %>-from-edugain-metadata-sha1">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugain2<%= fedid_downcase %>Entities"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_importEduGainTail"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addTrustRoots"/>
            <ref bean="stripUkfedlabelNamespace"/>
            <ref bean="stripWayfNamespace"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_formatMetadata"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_signSHA1" />
            <ref bean="serializeEdugain2<%= fedid_downcase %>SHA1"/>
        </list>
    </property>
</bean>

<bean id="<%= fedid_downcase %>-from-edugain-metadata-sha256" parent="SimplePipeline" p:id="<%= fedid_downcase %>-from-edugain-metadata-sha256">
    <property name="stages">
        <list>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_edugain2<%= fedid_downcase %>Entities"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_importEduGainTail"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_addTrustRoots"/>
            <ref bean="stripUkfedlabelNamespace"/>
            <ref bean="stripWayfNamespace"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_formatMetadata"/>
            <ref bean="<%= fedcountry_downcase %>_<%= fedid_downcase %>_signSHA256" />
            <ref bean="serializeEdugain2<%= fedid_downcase %>SHA256"/>
        </list>
    </property>
</bean>
